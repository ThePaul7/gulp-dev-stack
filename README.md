Front-end Gulp development stack.

# Summary
* [Features](#features)
* [Getting started]()
* [Project structure]()
* [Workflow]()
* [Troubleshooting]()

## Features

  | Pre-processing | Quality control | Post-processing
------------ | ------------- | ------------- | -------------
**CSS** | [SASS](https://github.com/dlmanning/gulp-sass) | Stylelint | **[PostCSS](https://github.com/postcss/postcss)** ([autoprefixer](https://github.com/postcss/autoprefixer),  [cssnano](https://github.com/ben-eb/cssnano)) <br>[Sourcemaps](https://github.com/floridoo/gulp-sourcemaps)
**JavaScript** | Babel | [ESLint](http://eslint.org) | [Browserify](http://browserify.org) <br>[Watchify](https://github.com/substack/watchify) <br>[Uglify](https://github.com/terinjokes/gulp-uglify)
**SVG** | | | svgmin <br>[SVGStore](https://github.com/w0rm/gulp-svgstore)
**HTML** | [Nunjucks](https://github.com/sindresorhus/gulp-nunjucks) | | [Prettify](https://github.com/jonschlinkert/gulp-prettify)

- **CSS:**
    - [SASS](https://github.com/dlmanning/gulp-sass)
    - [Postcss](https://github.com/postcss/postcss) ([autoprefixer](https://github.com/postcss/autoprefixer), [cssnano](https://github.com/ben-eb/cssnano))
    - [Sourcemaps](https://github.com/floridoo/gulp-sourcemaps)
- **JS:**
    - [Eslint](http://eslint.org)
    - [Browserify](http://browserify.org) w/ [Watchify](https://github.com/substack/watchify) for faster rebuilds
    - [Babel](http://babeljs.io)
    - [Uglify](https://github.com/terinjokes/gulp-uglify)
- **HTML:**
    - [Nunjucks](https://github.com/sindresorhus/gulp-nunjucks) for static templating
    - [Prettify](https://github.com/jonschlinkert/gulp-prettify)
- **Icons:**
    - [SVGStore](https://github.com/w0rm/gulp-svgstore) combines SVG files into one with `<symbol>` elements
- **Development mode:**
    - File Watching and Live Reloading with [BrowserSync](http://www.browsersync.io/)
    - Autogenerated index of HTML templates
- **Production mode**
    - JS and CSS are uglified and minified
    - Local production server for testing
- **Deployment**
    - `todo`

## Getting started
### Preparations
**NOTE:** If you have already installed Node and Gulp on your machine, you may skip this step.

1. This development stack uses [Node](https://nodejs.org), so make sure you have it installed.
2. Install [Gulp](http://gulpjs.com) globally:  
```bash
npm install -g gulp
```

### Setup
1. Clone the repository:
```
mkdir NEW_PROJECT
git clone https://github.com/actum/gulp-dev-stack ./NEW_PROJECT
```
2. Install package dependencies:
```bash
npm install
```
It will take you through the automated process of installing all the required dependencies from `package.json`. Make sure you are at the same directory that the package file (the root of the project).

## Project structure
Following a certain file and folder structure keeps development, maintenance and debugging processes much easier when switching from project to project.
* ### dist/

    Build (production) folder generated and changed automatically by various Gulp tasks. Contains production-ready compiled CSS (`dist/css`), JavaScript (`dist/js`), graphics (`dist/gfx`) and templated HTML. Should not be edited manually.

    * **tasks/**
    * **js/**
    * **gfx/**

* ### gulp/
    * **tasks/**
        The list of Gulp tasks. Each task is responsible for handling automation for different file types (i.e. `styles.js` compiles SCSS to CSS, and `serve.js` launches a local server for testing). Do not edit unless you know what you are doing.

    * **config.js**
        Global Gulp configuration, consisting of declaring *environment* and *folder/file paths*. While we would not recommend to change the project structure references, you may and **should** customize such keys as `PORT` or `TITLE`, which are unique for each project.

    * **environment.js**
        Determines current working environment (`DEVELOPMENT` or `PRODUCTION`).

* ### src/
    Development folder. This is where all the action, all your changes happen.
    * **app/**
        JavaScript.

    * **gfx/**
    * **styles/**
    * **NAME.nunj**
        Template page written in [Nunjucks](https://github.com/sindresorhus/gulp-nunjucks) and compiled to `dist/NAME.html`.

## Workflow
### Development
To start your development process, run `gulp --dev` in the terminal. This will prepare the project for the work and launch watch tasks to update the files on-the-fly as you work.

### Development

**Change port number in `gulp/config.js`** to something unique to prevent port collisions with other projects.

Run `gulp --dev` and develop in `src` folder.

#### Remove built targets

If you want to revert back to aÂ fresh state without built files, run

```sh
gulp clean
```

It will remove `dist` and all built targets in `src`.

### Production build

Run `gulp` and pick built assets from `dist` folder.

## Troubleshooting
When you have encountered a bug, or have a useful suggestion how to improve this development stack, do not hesitate to [Create a new issue]().